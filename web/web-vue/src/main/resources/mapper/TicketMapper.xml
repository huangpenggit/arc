<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- Mybatis mapper for ticket  Auto generated by fms-mybatis-generator -->
<mapper namespace="com.arc.vue.mapper.TicketMapper">
    <resultMap id="ticket" type="com.arc.model.domain.vue.Ticket">
        <id property="id" column="ticket_id" javaType="long" jdbcType="BIGINT"/>
        <result property="state" column="ticket_state" javaType="int" jdbcType="INTEGER"/>
        <result property="name" column="ticket_name" javaType="string" jdbcType="VARCHAR"/>
        <result property="code" column="ticket_code" javaType="int" jdbcType="INTEGER"/>
        <result property="sn" column="ticket_sn" javaType="int" jdbcType="INTEGER"/>
        <result property="verifyCode" column="ticket_verify_code" javaType="string" jdbcType="VARCHAR"/>
        <result property="printerCode" column="ticket_printer_code" javaType="string" jdbcType="VARCHAR"/>
        <result property="issueDate" column="ticket_issue_date" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="secret" column="ticket_secret" javaType="string" jdbcType="VARCHAR"/>
        <result property="remark" column="ticket_remark" javaType="string" jdbcType="VARCHAR"/>
        <result property="payee" column="ticket_payee" javaType="string" jdbcType="VARCHAR"/>
        <result property="review" column="ticket_review" javaType="string" jdbcType="VARCHAR"/>
        <result property="drawer" column="ticket_drawer" javaType="string" jdbcType="VARCHAR"/>
        <result property="taxDetailsName" column="ticket_tax_details_name" javaType="string" jdbcType="VARCHAR"/>
        <result property="taxDetailsCode" column="ticket_tax_details_code" javaType="string" jdbcType="VARCHAR"/>
        <result property="taxBase" column="ticket_tax_base" javaType="int" jdbcType="INTEGER"/>
        <result property="taxRate" column="ticket_tax_rate" javaType="int" jdbcType="INTEGER"/>
        <result property="amount" column="ticket_amount" javaType="int" jdbcType="INTEGER"/>
        <result property="unit" column="ticket_unit" javaType="string" jdbcType="VARCHAR"/>
        <result property="taxTotalLowercase" column="ticket_tax_total_lowercase" javaType="int" jdbcType="INTEGER"/>
        <result property="taxTotalCapitalization" column="ticket_tax_total_capitalization" javaType="string"
                jdbcType="VARCHAR"/>
        <result property="sellerName" column="ticket_seller_name" javaType="string" jdbcType="VARCHAR"/>
        <result property="sellerTaxpayerIdentificationNumber" column="ticket_seller_taxpayer_identification_number"
                javaType="string" jdbcType="VARCHAR"/>
        <result property="sellerCellphone" column="ticket_seller_cellphone" javaType="int" jdbcType="INTEGER"/>
        <result property="sellerTelephone" column="ticket_seller_telephone" javaType="int" jdbcType="INTEGER"/>
        <result property="sellerAddress" column="ticket_seller_address" javaType="string" jdbcType="VARCHAR"/>
        <result property="sellerDepositBank" column="ticket_seller_deposit_bank" javaType="string" jdbcType="VARCHAR"/>
        <result property="sellerAccountNumber" column="ticket_seller_account_number" javaType="string"
                jdbcType="VARCHAR"/>
        <result property="purchaserName" column="ticket_purchaser_name" javaType="string" jdbcType="VARCHAR"/>
        <result property="purchaserTaxpayerIdentificationNumber"
                column="ticket_purchaser_taxpayer_identification_number" javaType="string" jdbcType="VARCHAR"/>
        <result property="purchaserCellphone" column="ticket_purchaser_cellphone" javaType="int" jdbcType="INTEGER"/>
        <result property="purchaserTelephone" column="ticket_purchaser_telephone" javaType="int" jdbcType="INTEGER"/>
        <result property="purchaserAddress" column="ticket_purchaser_address" javaType="string" jdbcType="VARCHAR"/>
        <result property="purchaserDepositBank" column="ticket_purchaser_deposit_bank" javaType="string"
                jdbcType="VARCHAR"/>
        <result property="purchaserAccountNumber" column="ticket_purchaser_account_number" javaType="string"
                jdbcType="VARCHAR"/>
        <result property="createDate" column="ticket_create_date" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
        <result property="updateDate" column="ticket_update_date" javaType="java.util.Date" jdbcType="TIMESTAMP"/>
    </resultMap>

    <sql id="sqlticketColumns">
        ticket_.id AS ticket_id,
        ticket_.state AS ticket_state,
        ticket_.`name` AS ticket_name,
        ticket_.code AS ticket_code,
        ticket_.sn AS ticket_sn,
        ticket_.verify_code AS ticket_verify_code,
        ticket_.printer_code AS ticket_printer_code,
        ticket_.issue_date AS ticket_issue_date,
        ticket_.secret AS ticket_secret,
        ticket_.remark AS ticket_remark,
        ticket_.payee AS ticket_payee,
        ticket_.review AS ticket_review,
        ticket_.drawer AS ticket_drawer,
        ticket_.tax_details_name AS ticket_tax_details_name,
        ticket_.tax_details_code AS ticket_tax_details_code,
        ticket_.tax_base AS ticket_tax_base,
        ticket_.tax_rate AS ticket_tax_rate,
        ticket_.amount AS ticket_amount,
        ticket_.unit AS ticket_unit,
        ticket_.tax_total_lowercase AS ticket_tax_total_lowercase,
        ticket_.tax_total_capitalization AS ticket_tax_total_capitalization,
        ticket_.seller_name AS ticket_seller_name,
        ticket_.seller_taxpayer_identification_number AS ticket_seller_taxpayer_identification_number,
        ticket_.seller_cellphone AS ticket_seller_cellphone,
        ticket_.seller_telephone AS ticket_seller_telephone,
        ticket_.seller_address AS ticket_seller_address,
        ticket_.seller_deposit_bank AS ticket_seller_deposit_bank,
        ticket_.seller_account_number AS ticket_seller_account_number,
        ticket_.purchaser_name AS ticket_purchaser_name,
        ticket_.purchaser_taxpayer_identification_number AS ticket_purchaser_taxpayer_identification_number,
        ticket_.purchaser_cellphone AS ticket_purchaser_cellphone,
        ticket_.purchaser_telephone AS ticket_purchaser_telephone,
        ticket_.purchaser_address AS ticket_purchaser_address,
        ticket_.purchaser_deposit_bank AS ticket_purchaser_deposit_bank,
        ticket_.purchaser_account_number AS ticket_purchaser_account_number,
        ticket_.create_date AS ticket_create_date,
        ticket_.update_date AS ticket_update_date
    </sql>

    <select id="get" parameterType="long" resultMap="ticket">
        SELECT
        <include refid="sqlticketColumns"/>
        FROM ticket ticket_
        WHERE ticket_.id = #{id,jdbcType=BIGINT}
    </select>

    <select id="list" parameterType="long" resultMap="ticket">
        SELECT
        <include refid="sqlticketColumns"/>
        FROM ticket ticket_
    </select>

    <delete id="delete" parameterType="integer">
        delete ticket
        where sn=#{sn}
    </delete>

    <insert id="save" parameterType="com.arc.model.domain.vue.Ticket" useGeneratedKeys="true" keyProperty="id">
        INSERT INTO ticket (
        state,
        `name`,
        code,
        sn,
        verify_code,
        printer_code,
        issue_date,
        secret,
        remark,
        payee,
        review,
        drawer,
        tax_details_name,
        tax_details_code,
        tax_base,
        tax_rate,
        amount,
        unit,
        tax_total_lowercase,
        tax_total_capitalization,
        seller_name,
        seller_taxpayer_identification_number,
        seller_cellphone,
        seller_telephone,
        seller_address,
        seller_deposit_bank,
        seller_account_number,
        purchaser_name,
        purchaser_taxpayer_identification_number,
        purchaser_cellphone,
        purchaser_telephone,
        purchaser_address,
        purchaser_deposit_bank,
        purchaser_account_number,
        create_date,
        update_date
        )
        VALUES (
        #{state,jdbcType=INTEGER},
        #{name,jdbcType=VARCHAR},
        #{code,jdbcType=INTEGER},
        #{sn,jdbcType=INTEGER},
        #{verifyCode,jdbcType=VARCHAR},
        #{printerCode,jdbcType=VARCHAR},
        #{issueDate,jdbcType=TIMESTAMP},
        #{secret,jdbcType=VARCHAR},
        #{remark,jdbcType=VARCHAR},
        #{payee,jdbcType=VARCHAR},
        #{review,jdbcType=VARCHAR},
        #{drawer,jdbcType=VARCHAR},
        #{taxDetailsName,jdbcType=VARCHAR},
        #{taxDetailsCode,jdbcType=VARCHAR},
        #{taxBase,jdbcType=INTEGER},
        #{taxRate,jdbcType=INTEGER},
        #{amount,jdbcType=INTEGER},
        #{unit,jdbcType=VARCHAR},
        #{taxTotalLowercase,jdbcType=INTEGER},
        #{taxTotalCapitalization,jdbcType=VARCHAR},
        #{sellerName,jdbcType=VARCHAR},
        #{sellerTaxpayerIdentificationNumber,jdbcType=VARCHAR},
        #{sellerCellphone,jdbcType=INTEGER},
        #{sellerTelephone,jdbcType=INTEGER},
        #{sellerAddress,jdbcType=VARCHAR},
        #{sellerDepositBank,jdbcType=VARCHAR},
        #{sellerAccountNumber,jdbcType=VARCHAR},
        #{purchaserName,jdbcType=VARCHAR},
        #{purchaserTaxpayerIdentificationNumber,jdbcType=VARCHAR},
        #{purchaserCellphone,jdbcType=INTEGER},
        #{purchaserTelephone,jdbcType=INTEGER},
        #{purchaserAddress,jdbcType=VARCHAR},
        #{purchaserDepositBank,jdbcType=VARCHAR},
        #{purchaserAccountNumber,jdbcType=VARCHAR},
        NOW(),
        NOW()
        )
    </insert>

    <update id="update" parameterType="com.arc.model.domain.vue.Ticket">
        UPDATE ticket
        <set>
            <if test="state != null">state = #{state,jdbcType=INTEGER},</if>
            <if test="name != null and name != ''">`name` = #{name,jdbcType=VARCHAR},</if>
            <if test="code != null">code = #{code,jdbcType=INTEGER},</if>
            <if test="sn != null">sn = #{sn,jdbcType=INTEGER},</if>
            <if test="verifyCode != null and verifyCode != ''">verify_code = #{verifyCode,jdbcType=VARCHAR},</if>
            <if test="printerCode != null and printerCode != ''">printer_code = #{printerCode,jdbcType=VARCHAR},</if>
            <if test="issueDate != null">issue_date = #{issueDate,jdbcType=TIMESTAMP},</if>
            <if test="secret != null and secret != ''">secret = #{secret,jdbcType=VARCHAR},</if>
            <if test="remark != null and remark != ''">remark = #{remark,jdbcType=VARCHAR},</if>
            <if test="payee != null and payee != ''">payee = #{payee,jdbcType=VARCHAR},</if>
            <if test="review != null and review != ''">review = #{review,jdbcType=VARCHAR},</if>
            <if test="drawer != null and drawer != ''">drawer = #{drawer,jdbcType=VARCHAR},</if>
            <if test="taxDetailsName != null and taxDetailsName != ''">tax_details_name =
                #{taxDetailsName,jdbcType=VARCHAR},
            </if>
            <if test="taxDetailsCode != null and taxDetailsCode != ''">tax_details_code =
                #{taxDetailsCode,jdbcType=VARCHAR},
            </if>
            <if test="taxBase != null">tax_base = #{taxBase,jdbcType=INTEGER},</if>
            <if test="taxRate != null">tax_rate = #{taxRate,jdbcType=INTEGER},</if>
            <if test="amount != null">amount = #{amount,jdbcType=INTEGER},</if>
            <if test="unit != null and unit != ''">unit = #{unit,jdbcType=VARCHAR},</if>
            <if test="taxTotalLowercase != null">tax_total_lowercase = #{taxTotalLowercase,jdbcType=INTEGER},</if>
            <if test="taxTotalCapitalization != null and taxTotalCapitalization != ''">tax_total_capitalization =
                #{taxTotalCapitalization,jdbcType=VARCHAR},
            </if>
            <if test="sellerName != null and sellerName != ''">seller_name = #{sellerName,jdbcType=VARCHAR},</if>
            <if test="sellerTaxpayerIdentificationNumber != null and sellerTaxpayerIdentificationNumber != ''">
                seller_taxpayer_identification_number = #{sellerTaxpayerIdentificationNumber,jdbcType=VARCHAR},
            </if>
            <if test="sellerCellphone != null">seller_cellphone = #{sellerCellphone,jdbcType=INTEGER},</if>
            <if test="sellerTelephone != null">seller_telephone = #{sellerTelephone,jdbcType=INTEGER},</if>
            <if test="sellerAddress != null and sellerAddress != ''">seller_address =
                #{sellerAddress,jdbcType=VARCHAR},
            </if>
            <if test="sellerDepositBank != null and sellerDepositBank != ''">seller_deposit_bank =
                #{sellerDepositBank,jdbcType=VARCHAR},
            </if>
            <if test="sellerAccountNumber != null and sellerAccountNumber != ''">seller_account_number =
                #{sellerAccountNumber,jdbcType=VARCHAR},
            </if>
            <if test="purchaserName != null and purchaserName != ''">purchaser_name =
                #{purchaserName,jdbcType=VARCHAR},
            </if>
            <if test="purchaserTaxpayerIdentificationNumber != null and purchaserTaxpayerIdentificationNumber != ''">
                purchaser_taxpayer_identification_number = #{purchaserTaxpayerIdentificationNumber,jdbcType=VARCHAR},
            </if>
            <if test="purchaserCellphone != null">purchaser_cellphone = #{purchaserCellphone,jdbcType=INTEGER},</if>
            <if test="purchaserTelephone != null">purchaser_telephone = #{purchaserTelephone,jdbcType=INTEGER},</if>
            <if test="purchaserAddress != null and purchaserAddress != ''">purchaser_address =
                #{purchaserAddress,jdbcType=VARCHAR},
            </if>
            <if test="purchaserDepositBank != null and purchaserDepositBank != ''">purchaser_deposit_bank =
                #{purchaserDepositBank,jdbcType=VARCHAR},
            </if>
            <if test="purchaserAccountNumber != null and purchaserAccountNumber != ''">purchaser_account_number =
                #{purchaserAccountNumber,jdbcType=VARCHAR},
            </if>
            <if test="createDate != null">create_date = #{createDate,jdbcType=TIMESTAMP},</if>
            <if test="updateDate != null">update_date = #{updateDate,jdbcType=TIMESTAMP},</if>
        </set>
        WHERE id = #{id,jdbcType=BIGINT}
    </update>

</mapper>
